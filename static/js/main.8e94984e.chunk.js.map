{"version":3,"sources":["images/header/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeletePopup.js","utils/api.js","components/Auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/popup/success.svg","images/popup/failed.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["withRouter","setLoggedIn","history","loggedIn","useState","isBurgerOpened","setIsBurgerOpened","burgerMenuSelectors","userContainerMobileSelectors","signOut","localStorage","removeItem","push","location","useLocation","className","email","to","onClick","src","logo","alt","pathname","usePageViews","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","type","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","item","Footer","Popup","isOpen","onClose","children","PopupWithForm","onSubmit","submit","title","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","e","preventDefault","then","placeholder","required","minLength","maxLength","autoComplete","value","onChange","target","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","reset","ref","AddPlacePopup","setLink","ImagePopup","DeletePopup","onDeleteCard","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","method","_checkResponse","userData","body","JSON","stringify","cardData","cardId","authorization","BASE_URL","handleLogin","setEmail","password","setPassword","handleChange","data","token","setItem","catch","err","console","log","authorize","setIsSuccessRegistration","setIsErrorRegistration","register","ProtectRoute","Component","component","props","InfoTooltip","image","text","success","failed","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isErrorRegistration","isSuccessRegistration","closeAllPopups","getUserInfo","userDataFromServer","getInitialCards","cardsFromServer","jwt","getItem","Provider","exact","path","dislike","newCard","state","c","like","setUserInfo","postCard","setUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8e94984e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import { useState } from 'react';\r\nimport { Link, useLocation, withRouter } from 'react-router-dom';\r\nimport logo from '../images/header/logo.svg';\r\n\r\nfunction Header({setLoggedIn, history, loggedIn}) {\r\n  const [isBurgerOpened, setIsBurgerOpened] = useState(false);\r\n\r\n  const burgerMenuSelectors = `header__burger-menu${isBurgerOpened ? ' header__burger-menu_opened' : ''}`\r\n\r\n  const userContainerMobileSelectors = `header__user-container header__user-container_mobile${isBurgerOpened ? ' header__user-container_opened' : ''}`\r\n\r\n  function toggleBurgerMenu() {\r\n    setIsBurgerOpened(!isBurgerOpened);\r\n  }\r\n\r\n  function signOut() {\r\n    localStorage.removeItem('jwt');\r\n    localStorage.removeItem('email');\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n  \r\n  const location = useLocation();\r\n  function usePageViews(location) {\r\n    if (location.pathname === '/') {\r\n      return (\r\n        <div className='header__user-container'>\r\n          <span className='header__user-email'>{localStorage.email}</span>\r\n          <Link to='/sign-in' className='header__link' onClick={signOut}>Выйти</Link>\r\n        </div>\r\n      )\r\n    } else if (location.pathname === '/sign-in') {\r\n      return <Link to='/sign-up' className='header__link'>Регистрация</Link>\r\n    } else if (location.pathname === '/sign-up'){\r\n      return <Link to='/sign-in' className='header__link'>Войти</Link>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      {loggedIn && (\r\n        <div className={userContainerMobileSelectors}>\r\n          <span className='header__user-email'>{localStorage.email}</span>\r\n          <Link to='/sign-in' className='header__user-email' onClick={signOut}>Выйти</Link>\r\n        </div>\r\n      )}\r\n      <div className='header__container'>\r\n        <img src={logo} alt=\"Место Россия\" className=\"header__logo\" />\r\n        {usePageViews(location)}\r\n\r\n        {loggedIn && <div className={burgerMenuSelectors} onClick={toggleBurgerMenu}/>}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default withRouter(Header);","import {createContext} from 'react';\r\nexport const CurrentUserContext = createContext();","import {useContext} from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__btn-delete btn ${isOwn ? 'element__btn-delete_visible' : 'element__btn-delete_hidden'}`\r\n  ); \r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__btn-like btn ${isLiked && 'element__btn-like_active'}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }  \r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }  \r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }  \r\n\r\n  return (\r\n    <li className='element'>\r\n      <div className='element__image' style={{backgroundImage: `url(${card.link})`}} onClick={handleClick}></div>\r\n      <button type='button' className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n      <div className='element__container'>\r\n        <h2 className='element__location'>{card.name}</h2>\r\n        <div className='element__like-container'>\r\n          <button type='button' className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <span className='element__like-counter'>{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import {useContext} from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className='content'>\r\n      <section className='profile'>\r\n        <div className='profile__avatar' style={{backgroundImage: `url(${currentUser.avatar})`}} onClick={onEditAvatar}></div>\r\n        <div className='profile__info'>\r\n          <div className='profile__info-container'>\r\n            <h1 className='profile__full-name'>{currentUser.name}</h1>\r\n            <button type='button' className='profile__btn-edit btn' onClick={onEditProfile}></button>\r\n          </div>\r\n          <p className='profile__description'>{currentUser.about}</p>\r\n        </div>\r\n        <button type='button' className='profile__btn-add btn' onClick={onAddPlace}></button>\r\n      </section>\r\n      <section className='elements'>\r\n        <ul className='elements__container'>\r\n          {cards.map(item => (\r\n            <Card card={item} \r\n            onCardClick={onCardClick} \r\n            onCardLike={onCardLike} \r\n            onCardDelete={onCardDelete} \r\n            key={item._id}/>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","export default function Popup({isOpen, onClose, children, name}) {\r\n  return (\r\n    <div className={`popup popup_overlay_form popup_type_${name}${isOpen ? ' popup_opened': ''}`}>\r\n      <div className='popup__container'>\r\n        {children}\r\n      </div>\r\n      <button type='button' className='popup__btn-close btn' onClick={onClose}></button>\r\n    </div>\r\n  );\r\n}","import Popup from \"./Popup\";\r\n\r\nexport default function PopupWithForm({isOpen, onClose, onSubmit, children, submit, name, title}) {\r\n  return (\r\n    <Popup isOpen={isOpen} onClose={onClose} name={name}>\r\n      <form className={`popup__form popup__form_type_${name}`} onSubmit={onSubmit}>\r\n        <h2 className='popup__title'>{title}</h2>\r\n        {children}\r\n        <button type='submit' className='popup__button btn'>{submit}</button>\r\n      </form>\r\n    </Popup>      \r\n  );\r\n};","import {useEffect, useState, useContext} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({name, about:description}).then(() => {\r\n      onClose();\r\n      setName('');\r\n      setDescription('');\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='edit' title='Редактировать профиль' submit='Сохранить' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input\r\n        type='text'\r\n        name='name'\r\n        className='popup__input'\r\n        placeholder='Имя'\r\n        required\r\n        minLength='2'\r\n        maxLength='40'\r\n        autoComplete='off'\r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className=\"popup__input-error\"></span>\r\n      <input\r\n        type='text'\r\n        name='about'\r\n        className='popup__input'\r\n        placeholder='О себе'\r\n        required\r\n        minLength='2'\r\n        maxLength='200'\r\n        autoComplete='off'\r\n        value={description || ''}\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className='popup__input-error'></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import {useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const inputRef = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({avatar: inputRef.current.value}).then(() => {\r\n      onClose();\r\n      e.target.reset();\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='avatar' title='Обновить аватар' submit='Сохранить' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input\r\n        type='url'\r\n        name='avatar'\r\n        className='popup__input'\r\n        placeholder='Ссылка на изображение'\r\n        required\r\n        autoComplete='off'\r\n        ref={inputRef}\r\n      />\r\n      <span className='popup__input-error'></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import {useState} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({name, link}).then(() => {\r\n      onClose();\r\n      setName('');\r\n      setLink('');\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='add' title='Новое место' submit='Создать' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input \r\n        type='text'\r\n        name='name' \r\n        className='popup__input' \r\n        placeholder='Название' \r\n        required \r\n        minLength='2' \r\n        maxLength='30' \r\n        autoComplete='off' \r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className='popup__input-error'></span>\r\n      <input \r\n        type='url'\r\n        name='link' \r\n        className='popup__input' \r\n        placeholder='Ссылка на изображение' \r\n        required \r\n        autoComplete='off' \r\n        value={link || ''}\r\n        onChange={handleChangeLink}\r\n      />\r\n      <span className='popup__input-error'></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","function ImagePopup({card, onClose}) {\r\n  return (\r\n    <div className={`popup popup_overlay_image${card ? ' popup_opened' : ''}`}>\r\n      <div className='popup__container popup__container_image'>\r\n        <img className='popup__image' src={card ? card.link : ''} alt={card ? card.name : ''}/>\r\n        <p className='popup__description'>{card ? card.name : ''}</p>\r\n      </div>\r\n      <button type='button' className='popup__btn-close btn' onClick={onClose}></button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletePopup({isOpen, onClose, onDeleteCard}) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(isOpen).then(() => onClose())\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name='delete '\r\n      title='Вы уверены?'\r\n      submit='Да'\r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit} \r\n      />\r\n    );\r\n}\r\n\r\nexport default DeletePopup;","class Api {\r\n  constructor({baseUrl, headers}) {\r\n      this._baseUrl = baseUrl;\r\n      this._headers = headers;\r\n    }\r\n  \r\n    _checkResponse(res) {\r\n      if (res.ok) {\r\n          return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n\r\n    getUserInfo() {\r\n      return fetch(`${this._baseUrl}/users/me`, { \r\n        method: 'GET', \r\n        headers: this._headers\r\n      })      \r\n        .then(this._checkResponse);\r\n    }\r\n  \r\n    getInitialCards() {\r\n      return fetch(`${this._baseUrl}/cards`, { \r\n        method: 'GET', \r\n        headers: this._headers\r\n      })\r\n        .then(this._checkResponse);\r\n    }\r\n  \r\n    setUserInfo(userData) {\r\n      return fetch(`${this._baseUrl}/users/me`, { \r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify(userData)\r\n      })\r\n        .then(this._checkResponse);\r\n    }\r\n  \r\n    postCard(cardData) {\r\n      return fetch(`${this._baseUrl}/cards`, { \r\n        method: 'POST', \r\n        headers: this._headers, \r\n        body: JSON.stringify(cardData)\r\n      })\r\n        .then(this._checkResponse);\r\n    }\r\n  \r\n    deleteCard(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/${cardId}`, { \r\n        method: 'DELETE', \r\n        headers: this._headers\r\n      })\r\n        .then(this._checkResponse);\r\n    }\r\n  \r\n    like(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, { \r\n        method: 'PUT', \r\n        headers: this._headers\r\n      })\r\n        .then(this._checkResponse);\r\n    }\r\n  \r\n    dislike(cardId) {\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, { \r\n        method: 'DELETE', \r\n        headers: this._headers\r\n      })\r\n        .then(this._checkResponse);\r\n    }\r\n  \r\n    setUserAvatar(userData) {\r\n      return fetch(`${this._baseUrl}/users/me/avatar`, { \r\n        method: 'PATCH', \r\n        headers: this._headers, \r\n        body: JSON.stringify(userData)\r\n      })\r\n        .then(this._checkResponse);\r\n    }\r\n  }\r\n\r\n  const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n    headers: {\r\n      authorization: '5e9e6ed0-2e3b-49ef-bceb-982a1b5626d9',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\n\r\n  export default api;","const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  .catch(err => console.log(err));\r\n}\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  .then(data => {\r\n    if (data.token) {\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n    } else {\r\n      return\r\n    }\r\n  })\r\n  .catch(err => console.log(err));\r\n}\r\n\r\nexport const getContent = (jwt) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${jwt}`\r\n    },\r\n  })\r\n  .then(res => res.json())\r\n  .then(res => {\r\n    localStorage.setItem('email', res.data.email);\r\n    return res;\r\n  })\r\n  .catch(err => console.log(err));\r\n}","import { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { authorize } from './Auth';\r\n\r\nfunction Login({handleLogin, history}) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  \r\n  function handleChange(e) {\r\n    e.target.name === 'email' ? setEmail(e.target.value) : setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return\r\n    }\r\n    authorize(email, password)\r\n      .then(data => {\r\n        if (data.token) {\r\n          setEmail('');\r\n          setPassword('');\r\n          handleLogin();\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <div className='sign'>\r\n      <h2 className='sign__title'>Вход</h2>\r\n      <form className='sign__form' onSubmit={handleSubmit}>\r\n        <input className='sign__input' type='email' name='email' placeholder='Email' value={email || ''} onChange={handleChange}/>\r\n        <input className='sign__input' type='password' name='password' placeholder='Пароль' value={password || ''} onChange={handleChange}/>\r\n        <button className='sign__button btn' type='submit'>Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);","import { useState } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { register } from './Auth';\r\n\r\nfunction Register({setIsSuccessRegistration, setIsErrorRegistration, history}) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  \r\n  function handleChange(e) {\r\n    e.target.name === 'email' ? setEmail(e.target.value) : setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (email, password) {\r\n      register(email, password).then(res => {\r\n        if (res) {\r\n          setIsSuccessRegistration(true);\r\n          history.push('/sign-in');\r\n        } else {\r\n          setIsErrorRegistration(true);\r\n        }\r\n      }).catch(err => {\r\n        setIsErrorRegistration(true);\r\n        console.log(err);\r\n      })\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div className='sign'>\r\n      <h2 className='sign__title'>Регистрация</h2>\r\n      <form className='sign__form' onSubmit={handleSubmit}>\r\n        <input className='sign__input' type='email' name='email' placeholder='Email' value={email || ''} onChange={handleChange}/>\r\n        <input className='sign__input' type='password' name='password' placeholder='Пароль' value={password || ''} onChange={handleChange}/>\r\n        <button className='sign__button btn' type='submit'>Зарегистрироваться</button>\r\n      </form>\r\n      <Link to='/sign-in' className='sign__link'>Уже зарегистрированы? Войти</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst ProtectRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() => props.loggedIn ? <Component {...props} /> : <Redirect to='./sign-in' />}\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectRoute;","export default __webpack_public_path__ + \"static/media/success.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/failed.d0f413bf.svg\";","import success from '../images/popup/success.svg';\r\nimport failed from '../images/popup/failed.svg';\r\n\r\nexport default function InfoTooltip({isOpen, image, text, onClose}) {\r\n  return (\r\n    <div className={`popup popup_overlay${isOpen ? ' popup_opened': ''}`}>\r\n      <div className='popup__container popup__container_info'>\r\n        <div className='popup__image-info' style={{backgroundImage: `url(${image ? success : failed})`}}></div>\r\n        <p className='popup__text'>{text}</p>\r\n      </div>\r\n      <button type='button' className='popup__btn-close btn' onClick={onClose}/>\r\n    </div>\r\n  );\r\n}","import {useEffect, useState} from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from './ImagePopup';\r\nimport DeletePopup from './DeletePopup';\r\nimport api from '../utils/api';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport {Switch, Route, withRouter} from \"react-router-dom\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport ProtectRoute from \"./ProtectedRoute\";\r\nimport {getContent} from \"./Auth\";\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\nfunction App({history}) {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(null);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [isErrorRegistration, setIsErrorRegistration] = useState(false);\r\n  const [isSuccessRegistration, setIsSuccessRegistration] = useState(false);\r\n\r\n  useEffect(() => \r\n    api.getUserInfo()\r\n    .then(userDataFromServer => setCurrentUser(userDataFromServer))\r\n    .catch(err => console.log(err)\r\n  ), [])\r\n\r\n  // Открытие попапов\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardDeleteClick(card) {\r\n    setIsDeletePopupOpen(card);\r\n  }\r\n\r\n  // Закрытие попапов\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeletePopupOpen(false);\r\n    setSelectedCard(false);\r\n  }\r\n\r\n  // Обновление данных пользователя\r\n  function handleUpdateUser(userData) {\r\n    return api.setUserInfo(userData)\r\n            .then(res => setCurrentUser(res))\r\n            .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(userData) {\r\n    return api.setUserAvatar(userData)\r\n            .then(res => setCurrentUser(res))\r\n            .catch(err => console.log(err));\r\n  }\r\n\r\n  useEffect(() => \r\n    api.getInitialCards()\r\n    .then(cardsFromServer => setCards(cardsFromServer))\r\n    .catch(err => console.log(err)\r\n  ), []); \r\n\r\n  // Лайк/дизлайк карточки\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    if (!isLiked) {\r\n      api.like(card._id)\r\n      .then(newCard => setCards(state => state.map(c => c._id === card._id ? newCard : c)))\r\n      .catch(err => console.log(err));\r\n    } else {\r\n      api.dislike(card._id)\r\n      .then(newCard => setCards(state => state.map(c => c._id === card._id ? newCard : c)))\r\n      .catch(err => console.log(err));\r\n    }\r\n  } \r\n\r\n  // Добавление карточки\r\n  function handleAddPlace(cardData) {\r\n    return api.postCard(cardData)\r\n            .then(newCard => setCards([newCard, ...cards]))\r\n            .catch(err => console.log(err));\r\n  }\r\n\r\n  // Удаление карточки\r\n  function handleCardDelete(card) {\r\n    return api.deleteCard(card._id)\r\n            .then(() => setCards(cards.filter(c => c._id !== card._id)))\r\n            .catch(err => console.log(err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('jwt');\r\n    if (token) {\r\n      getContent(token)\r\n        .then(res => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch(err => {\r\n          localStorage.removeItem('jwt');\r\n          console.log(err);\r\n        })\r\n    };\r\n  }, []);\r\n\r\n  function handleLogin() {\r\n    setLoggedIn(true);\r\n  }\r\n\r\n  function closeSuccessToolTip() {\r\n    setIsSuccessRegistration(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function closeErrorToolTip() {\r\n    setIsErrorRegistration(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header \r\n        loggedIn={loggedIn}\r\n        setLoggedIn={setLoggedIn}\r\n      />\r\n      <main className=\"content\">\r\n        <Switch>\r\n          <ProtectRoute \r\n            exact path='/' \r\n            loggedIn={loggedIn} \r\n            component={Main} \r\n            cards={cards}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardDelete={handleCardDeleteClick}\r\n            onCardClick={setSelectedCard}\r\n            onCardLike={handleCardLike}/>\r\n          <Route path='/sign-in'>\r\n            <Login\r\n              handleLogin={handleLogin}\r\n            />\r\n          </Route>\r\n          <Route path='/sign-up'>\r\n            <Register \r\n              setIsSuccessRegistration={setIsSuccessRegistration}\r\n              setIsErrorRegistration={setIsErrorRegistration}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n      </main>\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlace}\r\n      />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n      <DeletePopup\r\n        isOpen={isDeletePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onDeleteCard={handleCardDelete}\r\n      />\r\n      <ImagePopup \r\n        card={selectedCard} \r\n        onClose={closeAllPopups} \r\n      />\r\n      <InfoTooltip \r\n        text={'Вы успешно зарегистрировались!'}\r\n        image={true}\r\n        isOpen={isSuccessRegistration}\r\n        onClose={closeSuccessToolTip}\r\n      />\r\n      <InfoTooltip \r\n        text={'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        image={false}\r\n        isOpen={isErrorRegistration}\r\n        onClose={closeErrorToolTip}\r\n      />\r\n      <Footer />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}